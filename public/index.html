<html>

<head>
  <title>InstaTwit</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" href="/stylesheets/style.css">
  <link href="https://fonts.googleapis.com/css?family=Knewave|Roboto&display=swap" rel="stylesheet">
</head>

<body>
  <div class="topbar" style="display: flex;">
    <h1>InstaTwit</h1>
    <h2>The social network for those who don't need 280 characters</h2>
  </div>


  <div style="display:flex">

    <div class="mycontainer" style="display:flex">
      <div id="app" style="display:flex;margin: auto; height:100%; flex-direction: column; flex:1">



        <div v-show="loggedin">
          <div id="userinput" class="content">
            <h3>Tell the world what it needs to hear in 28 characters.</h3><br>
            <p>You can use {{remainingchars}} more characters.</p>
            <div class="instatwitdiv" style="display:flex; justify-content:space-between;margin-bottom:1em">
              <input class="logininputbox" type="text" v-model="userposttext" maxlength="28">
              <button class="bigbutton" type="submit" v-on:click.prevent="makeuserpost">InstaTwit!</button>
            </div>
          </div>
          <br><br>

          <div id="postsdisplay">

            <div v-for="item in posts" class="post">
              <div class="content">
                <div class="postinfo">
                  <div style="display:flex">
                    
                    <p style="font-size:small">{{item.ago}}</p>
                  </div>
                  <p>{{item.date}}</p>
                </div>
                <div class="posttext">
                  <p style="font-size:larger">{{item.name}} says: </p><p class="twit"> {{item.text}} </p>
                </div>
              </div>
            </div>


          </div>
        </div>
        <div v-if="!loggedin" style="flex:1; margin-bottom:0; display:flex" class="content login">
          <div v-if="createaccount" style="flex-direction:column">

            <div>
              <h3>Please enter a Username and Password:</h3>
            </div>
            <div class="logininputdiv">
              <p>Username: </p>
              <input class="logininputbox" type="text" v-model="usernameinput">
            </div>
            <div class="logininputdiv">
              <p>Password: (Do not use a real password)</p>
              <input class="logininputbox" type="password" v-model="passwordinput">
            </div>
            <div>
              <div class="buttonsdiv" style="margin:auto">
                <input type="button" class="bigbutton" v-on:click.prevent="createAccount" value="Create Account">
                <input type="button" class="bigbutton" v-on:click.prevent="createorlog" value="Back">
              </div>
            </div>
          </div>
          <div v-else-if="login" style="flex-direction:column">
            <div>
              <h3>Please log in:</h3>
            </div>
            <div class="logininputdiv">
              <p>Username:</p>
              <input class="logininputbox" type="text" v-model="usernameinput">
            </div>
            <div class="logininputdiv">
              <p>Password:</p>
              <input  class="logininputbox" type="password" v-model="passwordinput">
            </div>
            <div>
              <div class="buttonsdiv" style="margin:auto">
                <input type="button" class="bigbutton" v-on:click.prevent="checkCredentials" value="Log In">
                <input type="button" class="bigbutton" v-on:click.prevent="createorlog" value="Back">
              </div>
            </div>
          </div>
          <div v-else-if="accountcreated" style="flex-direction:column">
            <div>
              <h3 style="margin:auto">Account created successfully!</h3>
            </div>
            <div style="margin:auto">
              <input type="button" class="bigbutton" value="Continue" v-on:click.prevent="createorlog">
            </div>
          </div>
          <div v-else>
            <div style="display:flex;flex-direction:column;text-align:center">
              <div>
                <h3 style="margin:auto">Please create an account or log in:</h3>
              </div>
              <div class="buttonsdiv" style="display:flex;justify-content: center">
                <input class="bigbutton" type="button" value="Log In" v-on:click.prevent="showlogin">
                <input class="bigbutton" type="button" value="Create Account" v-on:click.prevent="showcreateaccount">
              </div>
            </div>
          </div>
        </div>










      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/vue@2.6.2/dist/vue.js"></script>
  <script src="javascripts/script.js"></script>
  <script src="javascripts/vue.js"></script>
  <script src="javascripts/moment.min.js"></script>
</body>

</html>
